# Target SMB service 

## Scan service 

### nmap
    nmap --script smb-vuln* -p 445 <ipAddress>

    nmap -p 139,445 --script vuln -oA nmap-Vuln <ipAddress>

    nmap --script smb-enum-shares -p 139,445 <ipAddress>

    
### smbmap
    smbclient -L //<ipAddress>
    smbmap -H <ipAddress> -u guest
    smbmap -H <ipAddress> -R -depth 5
-R : recursive + the depth

### nmblookup
    nmblookup -A <ipAddress>
    


## Connect 
    smbclient \\\\<ipAddress>\\<DIR>

    rpcclient -U "" -N <ipAddress>
    rpcclient -U "guest" -N <ipAddress>





## Brut Force 
    hydra -L user.txt -P pass.txt <ipAddress> smb


## Download all the dir 
    smbclient \\\\<ipAddress>\\<DIR>
    recurse ON
    prompt OFF
    mget *



## Mount remote dir 
    mkdir /mnt/remoteDir
    mount -t cifs -o user=guest //<ipAddress>/<DIR> /mnt/remoteDir






nbtscan


Fingerprint SMB Version

smbclient -L //<ipAddress>



nmap -T4 -v -oA shares --script smb-enum-shares --script-args smbuser=username,smbpass=password -p445 <ipAddress>/24